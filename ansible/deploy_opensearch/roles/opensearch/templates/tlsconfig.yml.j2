ca:
  root:
    dn: CN=root.ca.{{ domain_name }},OU=CA,O={{ domain_name }},DC={{ domain_name }}
    keysize: 2048
    validityDays: {{ cert_valid_days }}
    pkPassword: none
    file: root-ca.pem

defaults:
  validityDays: {{ cert_valid_days }}
  pkPassword: none
  httpsEnabled: true
  reuseTransportCertificatesForHttp: false
  verifyHostnames: false
  resolveHostnames: false

nodes:
{% for item in groups['os_cluster'] %}
  - name: {{ item }}
    dn: CN={{ item }}.{{ domain_name }},OU=Ops,O={{ domain_name }},DC={{ domain_name }}
    dns: {{ item }}.{{ domain_name }}
    ip: {{ hostvars[item]['mgmtnet_ip_address'] }}
{% endfor %}

clients:
  - name: admin
    dn: CN=admin.{{ domain_name }},OU=Ops,O={{ domain_name }},DC={{ domain_name }}
    admin: true